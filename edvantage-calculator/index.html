<!doctype html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="/stylesheets/styles.css" rel="stylesheet" type="text/css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.2/jquery-ui.css" rel="stylesheet" type="text/css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.js"></script>
  <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.2/jquery-ui.js"></script>
</head>
<body>
  <div class="container">
    <div class="row step" data-step="1">
      <div class="col-sm-8 col-sm-offset-2">
        <div class="jumbotron">
          <div class="page-header"><h1>Edvantage<br><small>Savings Calculator</small></h1></div>
          <p>How much do you need to save for college?<br> Use our calculator to help estimate college costs and savings goals!</p>
          <button class="btn btn-primary btn-lg next" role="button">Start Here</button>
        </div>
      </div>
    </div>
    <div class="row step" data-step="2">
      <div class="col-sm-12">
        <h1 class="page-header">
          How old is your future scholar?
        </h1>
      </div>
      <div class="col-sm-5">
        <input type="text"
               class="form-control input-lg"
               placeholder="Enter child's name">
      </div>
      <div class="col-sm-5">
        <div class="input-group">
          <input type="number"
                 class="form-control input-lg"
                 placeholder="Enter child's age">
          <span class="input-group-addon" id="age">years old</span>
        </div>
      </div>
      <div class="col-sm-2">
        <button class="btn btn-primary btn-lg next" role="button">Continue</button>
      </div>
    </div>
    <div class="row step" data-step="3">
      <div class="col-sm-12">
        <h1 class="page-header">
          What is your family's dream school?<br>
          <small>We will use the current costs of college to project how much you will need to save.</small>
        </h1>
      </div>
      <div class="col-sm-12">
        <div class="btn-group btn-group-lg" role="group" aria-label="...">
          <button type="button" class="btn btn-default">In-state public</button>
          <button type="button" class="btn btn-default">Out-of-state public</button>
          <button type="button" class="btn btn-default">Private</button>
        </div>
      </div>
      <div class="col-sm-12">
        <button type="button" class="btn btn-primary btn-lg next">Continue</button>
      </div>
    </div>
    <div class="row step" data-step="4">
      <div class="col-sm-12">
        <h1 class="page-header">
          What percentage of the costs would you like to cover?
        </h1>
        <div class="lead">
          Scholarships, work study programs, and student savings can help contribute to college expenses. Pick a target percentage you would like to aim for. 
        </div>
        <br><div id="slider"></div><br>
        <p class="h3">
          <label for="amount">Percent of costs: </label>
          <input type="text" id="amount" readonly style="border:0; color:#f6931f; font-weight:bold;" size="3">
        </p>
        <p class="h2">
          <label for="cost">Dollar cost: </label>
          <input type="text" id="cost" readonly style="border:0; color:#f6931f; font-weight:bold;" size="7">
        </p>
          <button type="button" class="btn btn-primary btn-lg next">Continue</button>
      </div>
    </div>
    <div class="row step" data-step="5">
      <div class="col-12-sm">
        <h1 class="page-header">
          Have you already started saving?
        </h1>
        <button type="button" class="btn btn-primary btn-lg have-started-saving">Yes</button>
        <button type="button" class="btn btn-primary btn-lg next">No</button>
      </div>
      <div class="col-12-sm amount-saved-section hidden">
        <label for="amount-saved">How much have you saved: </label>
        <input class="form-control" type="text" id="amount-saved" size="10">
        <label for="account-saved">How is it being saved: </label><br>
        <!-- Single button -->
        <div class="btn-group">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
            Choose one <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu">
            <li><a href="#" class="next">Savings account</a></li>
            <li><a href="#" class="next">Investments</a></li>
            <li><a href="#" class="next">529</a></li>
            <li class="divider"></li>
            <li><a href="#" class="next">Other</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="row step" data-step="6">
      <div class="col-12-sm">
        <h1 class="page-header">We think you will need to save $200,000</h1>
        <div class="lead">Help us determine where you should start saving!</div>
        <button type="button" class="btn btn-primary btn-lg next">Continue</button>
    </div>
    <div class="row step" data-step="7">
      <div class="col-12-sm">
        <h1 class="page-header">
    </div>
  </div>

<script>
var $steps = $('.step');

var getStep = function (i) {
  return $steps.filter(function () {
    return $(this).data('step') === i
  })
};

var getCurrentIndex = function () {
  return $steps.filter(':visible').data('step')
}
var goToNext = function () {
  var index = getCurrentIndex();

  getStep(index).fadeOut({
    done: function() {
     getStep(index + 1).fadeIn();
    }
  });
};

$steps.hide();
// $steps.last().show(); // for dev purposes, see last button
$steps.first().show();
$steps.find('.next')
  .on('click', goToNext)


// TODO: remove 250000 magic number!
$('#slider').slider({
  range: 'min',
  value: 64,
  min: 0,
  max: 100,
  slide: function(event, ui) {
    $('#amount').val(ui.value + '%');
    $('#cost').val('$' + (ui.value / 100) * 250000);
  }
});

var value = $('#slider').slider('value');
$('#amount').val(value + '%');
$('#cost').val('$' + (value / 100) * 250000);

$('.have-started-saving').on('click', function() {
  $('.amount-saved-section').removeClass('hidden');
})


</script>
</body>
